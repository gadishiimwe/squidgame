
import { useState, useEffect } from 'react';
import { Button } from '@/components/ui/button';
import { Circle, Square, Triangle } from 'lucide-react';
import { Link } from 'react-router-dom';
import HeroSection from '@/components/HeroSection';
import GameModes from '@/components/GameModes';
import Leaderboard from '@/components/Leaderboard';
import StatsCounter from '@/components/StatsCounter';
import Footer from '@/components/Footer';
import BackgroundMusic from '@/components/BackgroundMusic';

const Index = () => {
  const [timeLeft, setTimeLeft] = useState(3600); // 1 hour countdown

  useEffect(() => {
    const timer = setInterval(() => {
      setTimeLeft((prev) => (prev > 0 ? prev - 1 : 3600));
    }, 1000);

    return () => clearInterval(timer);
  }, []);

  const formatTime = (seconds: number) => {
    const hours = Math.floor(seconds / 3600);
    const minutes = Math.floor((seconds % 3600) / 60);
    const secs = seconds % 60;
    return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
  };

  return (
    <div className="min-h-screen bg-background text-foreground">
      {/* Navigation */}
      <nav className="fixed top-0 w-full z-50 bg-background/90 backdrop-blur-md border-b border-border">
        <div className="container mx-auto px-4 py-4 flex justify-between items-center">
          <div className="flex items-center">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              version="1.2"
              viewBox="0 0 263 83"
              width="263"
              height="83"
              className="logo-path"
            >
              <g id="Layer">
                <g id="Layer">
                  <g id="Layer">
                    <path
                      id="Layer"
                      className="logo-path"
                      d="m71.8 45q0.5 0.1 0.7 0.3 0.3 0.3 0.2 0.6-0.1 0.3-0.3 0.4-0.3 0.1-0.6 0.1-2.9-0.1-5.8 0.2-2 0.2-4 0.2-2 0.1-4 0.3-0.5 0-0.9 0-1 0-1 1 0 0.8 0 1.6 0 0.3 0 0.5 0 3.7 0 7.5 0 10 0 20.1 0 1.8-0.2 3.5-0.1 1-1.1 1-1.2 0-1.4-0.9-0.2-1.4-0.2-2.9 0-10 0-19.9 0-3.2 0-6.4 0-0.4 0-0.8 0-1.5 0-3 0-1.2-1.1-1-0.9 0.1-1.8 0.1-3.7 0.3-7.6 0.8-3.4 0.4-6.7 0.9-1.3 0.1-2.6 0.3-0.4 0.1-0.8 0.2-0.4 0-0.7 0.1-1 0.1-0.9 1.1-0.1 1.4-0.1 2.8 0 2.2 0 4.3 0 3.3 0 6.5 0 3.5-0.1 7 0.1 1.1-0.1 2.2-0.1 1-1.3 1-1.1 0-1.2-1-0.2-1.3-0.2-2.7 0-6.6 0-13.2 0-2.1 0-4.3-0.1-0.2 0-0.5 0-0.4-0.1-0.8 0.1-1.3-0.2-1.6-0.3-0.2-1.5 0.1-8.6 1.3-17.2 3.2-1.5 0.4-3 0.9-1.5 0.4-2.9 1.2-0.8 0.4-1.7 0.4-0.3 0-0.5-0.2-0.3-0.1-0.5-0.4-0.1-0.3 0.1-0.5 0.1-0.2 0.4-0.4 1.1-0.9 2.4-1.3 0.1 0 0.1 0 3.2-1.2 6.5-1.9 7.6-1.6 15.2-2.8 1.1-0.2 2.2-0.4 0.5-0.1 0.6-0.6 0-1 0-2 0.1-5.5 0.1-11.1 0-7.6 0-15.1 0-3.4 0.1-6.8 0-1.7 1.7-1.4 0.9 0.1 1 1 0.1 0.8 0.1 1.5 0 0.2 0 0.3 0 12 0 23.9 0 3.5 0 7 0 0.2 0 0.4 0 0.4 0 0.8 0 1.1 0.3 1.3 0.2 0.2 1.3 0 1.5-0.2 3-0.4 2.3-0.3 4.6-0.5 4.1-0.5 8.3-0.9 1.6-0.1 3.2-0.3 0.2 0 0.4 0 0.3 0 0.6-0.1 0.6-0.1 0.6-0.8 0-0.9 0-1.8 0-6.7 0-13.5 0-2.2 0-4.4 0 0 0.1 0 0-1.7 0-3.4 0-7.3 0-14.6 0-0.3 0-0.7 0-0.4 0-0.8 0-1 0.8-1.2 0.7-0.3 1.3 0 0.5 0.3 0.5 0.7 0.1 0.9 0.1 1.8 0.1 15.2 0.1 30.4 0 2.6 0 5.1 0 0.1 0 0.2 0 0.4 0 0.7 0 1.1 0.1 1.5 0.1 0.5 0.4 0.5 0.4 0.1 1.2 0.1 0.2 0 0.6 0 3.6-0.1 7.3-0.2 2.2-0.1 4.4-0.1 0.9 0 1.7 0z"
                    />
                  </g>
                </g>
                <g id="Layer">
                  <g id="Layer">
                    <path
                      id="Layer"
                      fill-rule="evenodd"
                      className="s0"
                      d="m90.1 47.3q-0.5 1.5-2 3.4-1.4 1.9-3.5 2.5-2.2 0.5-3.7-0.2-1.6-0.7-1.8-3.7-1.7 3.5-3.3 4.4-1.7 1-3.4 0.8-2-0.4-2.6-1.6-0.7-1.2-0.5-2.8 0.2-1.6 1-3 0.5-1.1 1.6-2 1-1 2.1-1.5 1.4-0.7 2.8-0.7 1.4 0.1 3 1 0 0 0.1-0.1-0.1-0.2 0-0.4 0.1-0.2 0.3-0.4 0.5-0.4 1.2-0.4 0.8 0 1.2 0.7 0 1-0.2 2.4-0.6 3.2 0 4.6 0.5 1.4 2 1.3 1.5-0.1 3.8-2.9 2.4-2.8 1.9-1.4zm-17.3 5q0.8 0.6 1.8-0.2 1.1-0.7 2-2.1 1-1.3 1.7-2.7 0.6-1.3 0.7-2-2-1-3.4-0.3-1.4 0.7-2.2 2.2-0.9 1.6-1 3.1-0.2 1.5 0.4 2z"
                    />
                  </g>
                </g>
                <g id="Layer">
                  <g id="Layer">
                    <path
                      id="Layer"
                      className="s0"
                      d="m100 48q0.4-0.7 0.5-0.7 0.1 0.1 0 0.6 0 0.5-0.2 1.1-0.2 1-0.8 2.2-0.5 1.3-1.2 2.4-1 1.4-2.5 2.1-1.5 0.8-2.8 0.4-1.2-0.4-1.4-2.3 0-1.6 0.3-3.6 0.1-0.8 0.2-1.5 0-0.3-0.1-0.5-0.1-0.1-0.4-0.1-0.1 0-0.3 0-1 0.2-2 0-1.2-0.4-1.4-1.2-0.2-0.8 0.1-2.2 0.1-1 0.7-1.5 0.6-0.4 1.4-0.3 1.1 0.1 1.1 0.8-0.1 0.8-0.5 1.6-0.3 0.8-0.3 1.2 0 0.5 0.8 0.4 0.2-0.1 0.4-0.1 0.3-0.2 0.7-0.3 0.4-0.1 1.1 0 0.8 0 1 0.7 0.3 0.7 0.2 1.7 0 1-0.1 2.1-0.2 1.3-0.2 2.2 0 1 0.5 1.1 0.7 0.2 2.2-1.3 1.4-1.5 3-5z"
                    />
                  </g>
                </g>
                <g id="Layer">
                  <g id="Layer">
                    <path
                      id="Layer"
                      fill-rule="evenodd"
                      d="m110.2 46.8q0 0.4-1.7 1.4-1.7 1-2.5 1.6-0.8 0.5-0.8 0.6 0.2 0.4 0.3 1.2 0.2 0.8 0.2 1.8-0.1 0.9-0.6 1.7-0.6 0.7-2 0.9-1.3 0.1-2.4-0.4-1.1-0.5-1.3-1.5-0.3-1 0.6-2.3 0.6-0.8 1.5-1.3 0.3-0.2 0.6-0.4-1-1.1-2-2.3-0.9-1.2-1.1-2.1-0.3-1.1 0.3-2 0.7-1 2.2-1.2 0.8 0 1.5 0.1 0.7 0.2 1.2 0.7 0.2 0.1 0.2 0.3 0.1 0.1 0 0.3-0.2 0.4-0.6 0.4-0.3 0-0.6-0.1-0.2-0.1-0.5-0.2-0.1-0.1-0.3-0.2-0.5-0.2-0.8 0.1-0.2 0.2-0.2 0.7 0 0.9 0.7 1.9 0.7 1.1 1.4 1.9 0.3 0.3 0.5 0.6 0.2 0.2 1 0 0.8-0.3 3-1.5 2.2-1.1 2.2-0.7zm-7.8 7.9q0.5 0 0.7-0.6 0.1-0.5 0.1-1.1-0.1-0.7-0.1-1-0.1-0.2-0.3-0.2-0.1-0.1-0.3 0-0.6 0.4-0.9 1.2-0.2 0.7 0.1 1.2 0.1 0.2 0.3 0.3 0.1 0.2 0.4 0.2z"
                    />
                  </g>
                </g>
                <g id="Layer">
                  <g id="Layer">
                    <path
                      id="Layer"
                      fill-rule="evenodd"
                      d="m126.3 47.8q1.5-1.6 1.5-1.2 0.1 0.4-0.6 1.8-0.7 1.4-2.2 2.4-1.1 0.7-1.9 0.9-0.8 0.2-1.5 0.3-1.3 0-1.9-0.8-0.7-0.8-1-2-0.3-1.3-0.4-2.7-0.1-0.8-0.2-1.5-0.2-1.1-0.6-1.2-0.5-0.1-1.5 1.4-1 1.6-1.7 3.5-0.8 2-1.3 3.9-0.1 0-0.1 0.1-0.2 0.3-0.2 0.6-0.3 0.8-0.6 1.5-0.2 0.6-0.9 0.8-0.6 0.2-1.3-0.1-0.5-0.2-0.6-0.6-0.3-0.7-0.2-1.4 0-0.1 0-0.2 0.2-3 0.1-10.1-0.1-5.7-0.1-12.2 0-6.6 0.3-12.4 0.3-5.8 1.2-9.3 0.3-1.3 1.1-2.3 0.8-1 1.8-1.1 1-0.1 1.9 1.4 0.5 1.2 0.7 2.6 0.4 4.1-0.7 12.6-1.1 8.6-2.3 15-1.1 6.4-1.1 10.6 0.3-0.6 0.7-1.3 0.6-1.1 1.2-2.2 0.7-1.1 1.6-1.9 1-0.7 2.3-0.9 0.9-0.1 1.8 0.1 0.9 0.3 1.2 1.3 0.4 1.8 0.3 3.8 0 2.1 0.7 2.7 0.8 0.5 1.9 0.2 1.1-0.4 2.6-2.1zm-13.2-36.3q-0.2 2.2-0.4 7.3-0.3 5.2-0.4 10.4-0.2 5.1-0.2 8.5 0.4-3.1 1-8 0.6-5 1.1-10.2 0.5-5.3 0.5-7.9-0.1-1.4-0.2-2.1-0.2-0.7-0.6-0.5-0.3 0.2-0.5 1-0.2 0.8-0.3 1.5z"
                    />
                  </g>
                </g>
                <g id="Layer">
                  <g id="Layer"></g>
                </g>
                <g id="Layer">
                  <g id="Layer">
                    <path
                      id="Layer"
                      d="m204.1 6.5q2.6 2 4.2 4.7 1.6 2.7 2.2 6 0.3 1.7 0.1 3.4-0.1 1.6-0.6 3.3-0.6 2.7-1.9 5.1-1.3 2.5-2.9 4.6-2.3 2.9-5.1 5.2-2.7 2.2-5.8 4-6.7 3.9-13.9 6.3-0.5 0.2-1.1 0.4-0.7 0.2-1 0.4-0.3 0.2-0.4 0.5-0.1 0.4-0.1 1.1 0 9.2 0 18.3 0 1.2 0 2.4 0 0 0 0.1 0 0.6 0 1.3-0.1 0.6-0.3 1.2-0.2 1.1-1.2 1-0.9 0-1.2-0.8-0.3-1.4-0.3-2.9 0-1.4 0-2.8 0-7.8 0-15.6 0-0.3 0-0.6 0.1-0.9-0.2-2-0.5 0-1 0.2-0.7 0.2-1.3 0.1-0.3-0.1-0.5-0.2-0.1-0.1-0.2-0.3 0-0.6 0.5-0.7 0.9-0.4 1.9-0.7 0.8-0.3 0.8-1.2 0-0.5 0-1.1 0-0.3 0-0.7 0-4.6 0-9.3 0-10.4 0-20.8 0-0.1 0-0.2 0-0.8 0.1-1.5 0.1-1.4 1.4-1.4 1.4 0 1.5 1.4 0 0.7 0 1.3 0 0.3 0 0.5 0 3.2 0 6.4 0 11.3 0 22.5 0 0.3 0 0.6-0.1 1 0.2 1.8 0.2 0.2 0.4 0.2 0.2 0 0.4-0.1 5.4-2 10.4-4.8 5-2.8 9.3-6.6 5.6-4.9 7.9-12 1.2-4 0.7-7.4-0.5-3.4-2.4-6.1-1.9-2.7-4.7-4.5-5-3.3-11.8-4-6.8-0.8-14.3 0.5-7.5 1.2-14.5 4.1-6.9 2.9-12.2 6.9-5.2 4-7.6 8.7-0.5 0.9-0.7 1.9-0.3 1 0 2.1 0.2 0.7-0.2 1-0.3 0.3-0.9 0.2-1.3-0.2-1.7-1.3-0.4-1-0.2-2 0.5-2 1.6-3.7 3.8-5.4 10.4-9.7 6.7-4.2 14.8-6.9 8.1-2.7 16.3-3.5 8.1-0.8 14.7 0.7 2.9 0.6 5.5 1.9 2.6 1.2 4.9 3.1z"
                    />
                  </g>
                </g>
                <g id="Layer">
                  <g id="Layer">
                    <path
                      id="Layer"
                      fill-rule="evenodd"
                      d="m221.1 47.3q-0.5 1.5-2 3.4-1.4 1.9-3.5 2.5-2.2 0.5-3.7-0.2-1.6-0.7-1.8-3.7-1.7 3.5-3.4 4.4-1.6 1-3.3 0.8-2-0.4-2.7-1.6-0.7-1.2-0.4-2.8 0.2-1.6 0.9-3 0.6-1.1 1.6-2 1.1-1 2.2-1.5 1.4-0.7 2.8-0.7 1.4 0.1 3 1 0 0 0-0.1 0-0.2 0.1-0.4 0.1-0.2 0.3-0.4 0.5-0.4 1.2-0.4 0.8 0 1.1 0.7 0.1 1-0.1 2.4-0.6 3.2 0 4.6 0.5 1.4 2 1.3 1.5-0.1 3.8-2.9 2.3-2.8 1.9-1.4zm-17.4 5q0.9 0.6 1.9-0.2 1.1-0.7 2-2.1 1-1.3 1.6-2.7 0.7-1.3 0.8-2-2-1-3.4-0.3-1.4 0.7-2.2 2.2-0.9 1.6-1 3.1-0.2 1.5 0.3 2z"
                    />
                  </g>
                </g>
                <g id="Layer">
                  <g id="Layer">
                    <path
                      id="Layer"
                      className="s0"
                      d="m232.7 47.9q1-0.9 0.8-0.4-0.1 0.4-1 1.6-0.9 1.3-2.3 2.7-1.4 1.4-3 2.4-1.5 1.1-2.9 1.2-1.7 0-2.7-1-1.1-1-1.5-2.7-0.4-1.7-0.4-3.6 0.1-2.1 0.2-4.3 0-1.1 0-2.1 0.1-1.8 0.2-3.5 0-0.6-0.2-0.9-0.2-0.4-0.8-0.4-0.6-0.1-1.5-0.1-0.8 0-1.4 0-0.8-0.1-1.1-0.4-0.2-0.4 0.5-0.7 0.4-0.2 1.1-0.2 0.7 0 1.4 0 0.4 0 0.7 0 1.1 0 1.3-0.3 0.2-0.3 0.3-1.3 0.1-1 0.1-2 0-0.6 0.1-1.1 0-0.8 0.4-1.5 0.5-0.6 1.2-0.5 0.6 0.2 0.7 0.8 0 1 0 2.1 0 0.6 0 1.1 0 0.7 0 1.3 0 0.9 0.2 1.2 0.3 0.2 1.3 0.2 1.5 0 3.1 0 0.7 0 4.2-0.1 3.4-0.1 3.7 0.6 0.3 0.6-4.4 0.7-2.8 0.2-4.4 0.2-1 0-1.8 0-1.4 0-1.7 0.4-0.4 0.5-0.3 2-0.1 1.2-0.2 3-0.2 3.7-0.2 7.4 0.1 2.6 1 3.4 0.8 0.8 2.2 0.3 1.3-0.5 2.9-1.7 1.6-1.3 3.1-2.7 0.3-0.4 0.8-0.8 0.2-0.2 0.3-0.3z"
            />
          </g>
        </g>
        <g id="Layer">
          <g id="Layer">
            <path
              id="Layer"
              fill-rule="evenodd"
              className="s0"
              d="m249.4 47.9q0.4-0.2 0.8-0.4 0.4-0.1 0.5 0 0.1 0.2-0.3 0.7-1.4 1.5-3.2 2.8-1.8 1.2-3.8 2.1-1.5 0.7-3.2 1.1-1.6 0.4-3.3 0.1-1.6-0.2-3-1.4-2-1.9-1.7-4.7 0.3-2.1 1.7-3.7 1.4-1.5 3.5-2 1.8-0.4 3.6-0.1 0.8 0.1 1.5 0.5 0.6 0.5 0.6 1.1 0.1 0.7-0.5 1.2-1.1 1.1-2.5 1.2-1.7 0.3-3.4 0.4-0.8 0-1.1 0.3-0.3 0.4-0.4 1.2-0.2 2.2 1.4 3.6 1.1 0.8 2.5 0.7 1.5-0.2 3.2-0.8 1.7-0.7 3.3-1.6 1.6-0.9 2.9-1.7 0.5-0.4 0.9-0.6zm-12.2-3.2q0 0.1-0.1 0.1 0 0.1-0.1 0.2-0.1 0-0.2 0.2-0.1 0.1-0.1 0.1 0 0.1 0.6 0 0.6 0 1.3-0.2 0.7-0.1 1.2-0.4 0.5-0.2 0.3-0.6-0.1-0.1-0.2-0.2-0.1 0-0.3-0.1-0.7 0-1.3 0.3-0.6 0.3-1.1 0.6z"
            />
          </g>
        </g>
        <g id="Layer">
          <g id="Layer">
            <path
              id="Layer"
              fill-rule="evenodd"
              className="s0"
              d="m262.2 48.2q0.3-0.7 0.6-0.7 0.4 0 0.3 0.7-0.6 1.8-1.4 3.4-0.8 1.7-2.2 3-1.1 1-2.5 1.3-2 0.3-3.3-0.4-1.3-0.8-2.1-2.2-0.7-1.4-1.1-3.1-0.4-1.7-0.5-3.3-0.2-3-0.4-7.8-0.1-4.9 0.1-10.3 0.2-5.5 1.1-10.1 0.8-4.7 2.4-7.2 1-1.2 2.2-1.3 1.2 0 2.2 1.2 0.7 0.9 1 1.9 0.3 1 0.4 2 0.4 3.6-0.1 7.5-0.4 4-1.3 8.5-1 4.5-2.3 7.9-1.3 3.5-2.2 5.5-0.5 0.8-0.4 2.4 0.2 1.8 0.7 3.7 0.5 1.9 1.5 3.1 0.9 0.9 1.9 0.6 1.1-0.4 2.2-1.5 1.1-1.1 1.9-2.5 0.8-1.3 1.3-2.3zm-9.4-18q-0.1 1.2-0.2 3.5-0.1 2.3-0.2 4.8-0.1 2.7-0.1 4.2 0.8-1.9 2-5.6 1.1-3.7 2.1-8.7 0.9-5 1.2-10.9-0.2-3.4-0.8-4.6-0.7-1.2-1.5-0.2-0.7 1-1.2 4.2-0.7 5.3-1.1 10.7-0.1 1.3-0.2 2.6z"
            />
          </g>
        </g>
      </g>
    </svg>
          </div>
          
          <div className="flex items-center space-x-4">
            <div className="text-sm text-muted-foreground">
              Next Round: <span className="text-accent font-mono animate-countdown">{formatTime(timeLeft)}</span>
            </div>
            <Link to="/auth">
              <button className="uiverse-button squid-red small">
                <div className="blob1"></div>
                <div className="inner">Login</div>
              </button>
            </Link>
            <Link to="/auth">
              <button className="uiverse-button squid-green small">
                <div className="blob1"></div>
                <div className="inner">Join Challenge</div>
              </button>
            </Link>
          </div>
        </div>
      </nav>

      {/* Main Content */}
      <div className="pt-20 space-y-8">
        <HeroSection />

        <StatsCounter />
        <GameModes />
        <Leaderboard />
      </div>

      <Footer />
      <BackgroundMusic />
    </div>
  );
};

export default Index;
